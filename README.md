# 数据结构第一次大作业 图像处理部分开源
### 前言
原计划在昨天生日的时候开源，然而bug还没改完，故推迟到今天发<br>
由于该作业不强制要求图像处理，主要考察后续的路径规划算法，故将本代码开源，希望能为大家提供思路，减轻同学们的工作量<br>

### 代码说明
本代码作用为：输入一张电子地图的截图，识别道路和交叉点，输出道路的端点序号及道路长度<br>
注意：<br>
本代码需要使用opencv库，输入图像方面推荐截取学校官网的华工电子地图(其他地图可能有文字遮挡，且需要改动参数)<br>

### 代码思路
由于华工官网电子地图的道路并非纯白色，故先用photoshop吸管工具拾取道路RGB数值，提取特定RGB值的区域(道路)<br>
随后使用细化算法提取道路骨架，opencv contrib中有给出细化算法，本代码使用的是rosenfeld细化算法<br>
之后的步骤是提取交叉点和道路，具体思路见代码(自认为还算巧妙，但时间复杂度较高，还有大幅优化的空间)<br>
最后的排序和输出虽然不算复杂，但debug花了我好长的时间<br>

### 使用方法
ubuntu : <br>
(在项目文件夹下) <br>
```
mkdir build
cd build
cmake ..
make
cd ../bin
./main
```
windows :<br>
使用cmake_gui生成vs项目文件，在vs中编译项目

### 其他
写这份代码真的花了不少时间，比实习任务还耗时就离谱(小小吐槽一下)<br>
由于此代码只是图像处理部分，且写得比较赶，封装程度不高，也可能存在一些bug，希望大家见谅<br>
后续有空的话,可能会持续更新,可以留意一下<br>
最后祝大家国庆节快乐！
